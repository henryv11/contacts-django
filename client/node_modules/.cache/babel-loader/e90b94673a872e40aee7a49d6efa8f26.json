{"remainingRequest":"F:\\Projects\\smit-django\\client\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\smit-django\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Projects\\smit-django\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Projects\\smit-django\\client\\src\\views\\Contacts.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Projects\\smit-django\\client\\src\\views\\Contacts.vue","mtime":1563752139584},{"path":"F:\\Projects\\smit-django\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\smit-django\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\smit-django\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\smit-django\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Navbar from \"@/components/Navbar.vue\";\nimport Contact from \"@/components/Contact.vue\";\nimport NewContactForm from \"@/components/NewContactForm.vue\";\nexport default {\n  name: \"Contacts\",\n  components: {\n    Navbar: Navbar,\n    Contact: Contact,\n    NewContactForm: NewContactForm\n  },\n  data: function data() {\n    return {\n      newUserMode: false,\n      pageSize: 10,\n      currentPage: 1,\n      direction: \"asc\",\n      orderBy: \"createdAt\",\n      loading: false,\n      contacts: [],\n      totalPages: 0,\n      totalElements: 0\n    };\n  },\n  methods: {\n    openNewUser: function openNewUser() {\n      this.newUserMode = true;\n    },\n    closeNewUser: function closeNewUser() {\n      this.newUserMode = false;\n    },\n    toggleNewUser: function toggleNewUser() {\n      this.newUserMode = !this.newUserMode;\n    },\n    fetchContacts: function fetchContacts() {\n      var _this = this;\n\n      this.loading = true;\n      this.$http({\n        method: \"get\",\n        url: this.$apiBaseUrl + \"/api/contacts/\",\n        params: {\n          page: this.currentPage\n        },\n        headers: {\n          Authorization: this.$store.getters.bearerToken\n        }\n      }).then(function (resp) {\n        _this.contacts = resp.data.results;\n        _this.totalPages = resp.data.totalPages;\n        _this.totalElements = resp.data.count;\n        _this.loading = false;\n      }).catch(function (err) {\n        _this.loading = false;\n      });\n    },\n    addContact: function addContact(contact) {\n      if (this.contacts.length >= this.pageSize) {\n        this.contacts.shift();\n      }\n\n      this.contacts.unshift(contact);\n    },\n    removeContact: function removeContact(id) {\n      for (var i = 0; i < this.contacts.length; i++) {\n        if (this.contacts[i].id == id) {\n          this.contacts.splice(i, 1);\n          break;\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.fetchContacts();\n  }\n};",{"version":3,"sources":["Contacts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,cAAA,MAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,cAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,CAHA;AAIA,MAAA,SAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,WALA;AAMA,MAAA,OAAA,EAAA,KANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,UAAA,EAAA,CARA;AASA,MAAA,aAAA,EAAA;AATA,KAAA;AAWA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KANA;AAOA,IAAA,aAPA,2BAOA;AACA,WAAA,WAAA,GAAA,CAAA,KAAA,WAAA;AACA,KATA;AAUA,IAAA,aAVA,2BAUA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,KAAA,WAAA,GAAA,gBAFA;AAGA,QAAA,MAAA,EAAA;AAAA,UAAA,IAAA,EAAA,KAAA;AAAA,SAHA;AAIA,QAAA,OAAA,EAAA;AAAA,UAAA,aAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA;AAAA;AAJA,OAAA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,UAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAdA;AAeA,KA3BA;AA4BA,IAAA,UA5BA,sBA4BA,OA5BA,EA4BA;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,IAAA,KAAA,QAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA;AACA;;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,OAAA;AACA,KAjCA;AAkCA,IAAA,aAlCA,yBAkCA,EAlCA,EAkCA;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,KAAA,QAAA,CAAA,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA;AACA;AACA;AACA;AAzCA,GApBA;AA+DA,EAAA,OA/DA,qBA+DA;AACA,SAAA,aAAA;AACA;AAjEA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <Navbar @toggleNewUser=\"toggleNewUser\" />\r\n    <div v-if=\"loading\" class=\"mt-4 pt-4\">\r\n      <b-spinner variant=\"primary\" label=\"Spinning\"></b-spinner>\r\n    </div>\r\n    <div v-else>\r\n      <b-collapse id=\"new-user-collapse\" v-model=\"newUserMode\" class=\"mt-2 shadow-sm\">\r\n        <b-card>\r\n          <NewContactForm @addContactSuccess=\"addContact\" />\r\n        </b-card>\r\n      </b-collapse>\r\n      <b-list-group flush class=\"mt-2\">\r\n        <b-list-group-item v-for=\"contact in contacts\" :key=\"contact.id\" class=\"border-0 py-1\">\r\n          <Contact :contact=\"contact\" @deleteSuccess=\"removeContact\" />\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n      <b-pagination\r\n        v-if=\"(totalElements > pageSize)\"\r\n        v-model=\"currentPage\"\r\n        class=\"mt-2\"\r\n        :total-rows=\"totalElements\"\r\n        :per-page=\"pageSize\"\r\n        align=\"center\"\r\n        size=\"sm\"\r\n        @input=\"fetchContacts\"\r\n      ></b-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Contact from \"@/components/Contact.vue\";\r\nimport NewContactForm from \"@/components/NewContactForm.vue\";\r\n\r\nexport default {\r\n  name: \"Contacts\",\r\n  components: {\r\n    Navbar,\r\n    Contact,\r\n    NewContactForm\r\n  },\r\n  data() {\r\n    return {\r\n      newUserMode: false,\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n      direction: \"asc\",\r\n      orderBy: \"createdAt\",\r\n      loading: false,\r\n      contacts: [],\r\n      totalPages: 0,\r\n      totalElements: 0\r\n    };\r\n  },\r\n  methods: {\r\n    openNewUser() {\r\n      this.newUserMode = true;\r\n    },\r\n    closeNewUser() {\r\n      this.newUserMode = false;\r\n    },\r\n    toggleNewUser() {\r\n      this.newUserMode = !this.newUserMode;\r\n    },\r\n    fetchContacts() {\r\n      this.loading = true;\r\n      this.$http({\r\n        method: \"get\",\r\n        url: this.$apiBaseUrl + \"/api/contacts/\",\r\n        params: { page: this.currentPage },\r\n        headers: { Authorization: this.$store.getters.bearerToken }\r\n      })\r\n        .then(resp => {\r\n          this.contacts = resp.data.results;\r\n          this.totalPages = resp.data.totalPages;\r\n          this.totalElements = resp.data.count;\r\n          this.loading = false;\r\n        })\r\n        .catch(err => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    addContact(contact) {\r\n      if (this.contacts.length >= this.pageSize) {\r\n        this.contacts.shift();\r\n      }\r\n      this.contacts.unshift(contact);\r\n    },\r\n    removeContact(id) {\r\n      for (var i = 0; i < this.contacts.length; i++) {\r\n        if (this.contacts[i].id == id) {\r\n          this.contacts.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchContacts();\r\n  }\r\n};\r\n</script>\r\n\r\n"],"sourceRoot":"src/views"}]}